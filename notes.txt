Write logic that will check if at the end of the move king is in check + it does not have anywhere to go which will change the state of the game to CheckMate and it will announce the winner.
Before every move check the game state to see if game is still ongoing before proceeding.